{
  "permissions": {
    "allow": [
      "Bash(mkdir:*)",
      "Bash(cd:*)",
      "Bash(ls:*)",
      "Bash(cat:*)",
      "Bash(head:*)",
      "Bash(tail:*)",
      "Bash(find:*)",
      "Bash(grep:*)",
      "Bash(wc:*)",
      "Bash(echo:*)",
      "Bash(cp:*)",
      "Bash(mv:*)",
      "Bash(rm:*)",
      "Bash(touch:*)",
      "Bash(chmod:*)",
      "Bash(pwd:*)",
      "Bash(tree:*)",
      "Bash(which:*)",
      "Bash(env:*)",
      "Bash(export:*)",
      "Bash(source:*)",
      "Bash(sed:*)",
      "Bash(awk:*)",
      "Bash(sort:*)",
      "Bash(uniq:*)",
      "Bash(diff:*)",
      "Bash(xargs:*)",
      "Bash(tee:*)",
      "Bash(python:*)",
      "Bash(python3:*)",
      "Bash(pip:*)",
      "Bash(pip3:*)",
      "Bash(uv:*)",
      "Bash(uvx:*)",
      "Bash(pytest:*)",
      "Bash(ruff:*)",
      "Bash(alembic:*)",
      "Bash(uvicorn:*)",
      "Bash(node:*)",
      "Bash(npm:*)",
      "Bash(npx:*)",
      "Bash(pnpm:*)",
      "Bash(vitest:*)",
      "Bash(playwright:*)",
      "Bash(tsc:*)",
      "Bash(next:*)",
      "Bash(psql:*)",
      "Bash(redis-cli:*)",
      "Bash(createdb:*)",
      "Bash(dropdb:*)",
      "Bash(git:*)",
      "Bash(curl:*)",
      "Bash(wget:*)",
      "Bash(brew:*)",
      "Bash(tesseract:*)",
      "Bash(openssl:*)",
      "Bash(ssh-keygen:*)",
      "Bash(tar:*)",
      "Bash(zip:*)",
      "Bash(unzip:*)",
      "Bash(gzip:*)",
      "Bash(kill:*)",
      "Bash(lsof:*)",
      "Bash(ps:*)",
      "Bash(cat test_autonomous_ai_web_records/*)",
      "Bash(sh:*)",
      "Bash(bash:*)",
      "Read(*)",
      "Write(*)",
      "Edit(*)",
      "Bash(git *)",
      "Bash(brew services restart:*)",
      "Bash(brew install:*)",
      "Bash(brew services start:*)",
      "Bash(redis-cli ping:*)",
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(uv init:*)",
      "Bash(uv add:*)",
      "Bash(uv run alembic:*)",
      "Bash(uv run python:*)",
      "Bash(git -C /Users/potalora/ai_workspace/test_autonomous_ai_web_records add:*)",
      "Bash(uv run pytest:*)",
      "Bash(git -C /Users/potalora/ai_workspace/test_autonomous_ai_web_records commit -m \"$\\(cat <<''EOF''\nfeat: user authentication with JWT and tests\n\n- Auth service: register, login, refresh, logout with bcrypt \\(cost 12\\)\n- JWT access tokens \\(15min\\) and refresh tokens \\(7 day\\)\n- Auth API endpoints with audit logging\n- Test fixtures: synthetic FHIR bundle and Epic TSVs\n- conftest.py with DB cleanup between tests\n- 10 passing auth tests \\(register, login, refresh, logout, me\\)\n- Fix: pin bcrypt<5 for passlib compatibility\n- Fix: use ORM model for audit log inserts\nEOF\n\\)\")",
      "Bash(npm install:*)",
      "Bash(npx shadcn@latest init:*)",
      "Bash(npx shadcn@latest add:*)",
      "Bash(__NEW_LINE_6996f5c51b99a60e__ cd /Users/potalora/ai_workspace/test_autonomous_ai_web_records/frontend/src/app/\\\\\\(dashboard\\\\\\))",
      "Bash(\"/Users/potalora/ai_workspace/test_autonomous_ai_web_records/frontend/src/app/\\(dashboard\\)/timeline/page.tsx\" << 'EOF'\nexport default function TimelinePage\\(\\) {\n  return \\(\n    <div>\n      <h1 className=\"text-3xl font-bold tracking-tight\">Timeline</h1>\n      <p className=\"text-muted-foreground\">Interactive chronological view of all health records — coming in Phase 3.</p>\n    </div>\n  \\);\n}\nEOF)",
      "Bash(\"/Users/potalora/ai_workspace/test_autonomous_ai_web_records/frontend/src/app/\\(dashboard\\)/records/page.tsx\" << 'EOF'\nexport default function RecordsPage\\(\\) {\n  return \\(\n    <div>\n      <h1 className=\"text-3xl font-bold tracking-tight\">Health Records</h1>\n      <p className=\"text-muted-foreground\">Browse, search, and filter all medical records — coming in Phase 3.</p>\n    </div>\n  \\);\n}\nEOF)",
      "Bash(\"/Users/potalora/ai_workspace/test_autonomous_ai_web_records/frontend/src/app/\\(dashboard\\)/upload/page.tsx\" << 'EOF'\nexport default function UploadPage\\(\\) {\n  return \\(\n    <div>\n      <h1 className=\"text-3xl font-bold tracking-tight\">Upload Health Records</h1>\n      <p className=\"text-muted-foreground\">Import FHIR JSON bundles or Epic EHI Tables exports — coming in Phase 2.</p>\n    </div>\n  \\);\n}\nEOF)",
      "Bash(\"/Users/potalora/ai_workspace/test_autonomous_ai_web_records/frontend/src/app/\\(dashboard\\)/labs/page.tsx\" << 'EOF'\nexport default function LabsPage\\(\\) {\n  return \\(\n    <div>\n      <h1 className=\"text-3xl font-bold tracking-tight\">Lab Results</h1>\n      <p className=\"text-muted-foreground\">View lab results with trend charts and reference ranges — coming in Phase 3.</p>\n    </div>\n  \\);\n}\nEOF)",
      "Bash(\"/Users/potalora/ai_workspace/test_autonomous_ai_web_records/frontend/src/app/\\(dashboard\\)/medications/page.tsx\" << 'EOF'\nexport default function MedicationsPage\\(\\) {\n  return \\(\n    <div>\n      <h1 className=\"text-3xl font-bold tracking-tight\">Medications</h1>\n      <p className=\"text-muted-foreground\">View medication history and current prescriptions — coming in Phase 3.</p>\n    </div>\n  \\);\n}\nEOF)",
      "Bash(\"/Users/potalora/ai_workspace/test_autonomous_ai_web_records/frontend/src/app/\\(dashboard\\)/conditions/page.tsx\" << 'EOF'\nexport default function ConditionsPage\\(\\) {\n  return \\(\n    <div>\n      <h1 className=\"text-3xl font-bold tracking-tight\">Conditions</h1>\n      <p className=\"text-muted-foreground\">View diagnoses and medical conditions — coming in Phase 3.</p>\n    </div>\n  \\);\n}\nEOF)",
      "Bash(\"/Users/potalora/ai_workspace/test_autonomous_ai_web_records/frontend/src/app/\\(dashboard\\)/immunizations/page.tsx\" << 'EOF'\nexport default function ImmunizationsPage\\(\\) {\n  return \\(\n    <div>\n      <h1 className=\"text-3xl font-bold tracking-tight\">Immunizations</h1>\n      <p className=\"text-muted-foreground\">View vaccination records and immunization history — coming in Phase 3.</p>\n    </div>\n  \\);\n}\nEOF)",
      "Bash(\"/Users/potalora/ai_workspace/test_autonomous_ai_web_records/frontend/src/app/\\(dashboard\\)/imaging/page.tsx\" << 'EOF'\nexport default function ImagingPage\\(\\) {\n  return \\(\n    <div>\n      <h1 className=\"text-3xl font-bold tracking-tight\">Imaging Studies</h1>\n      <p className=\"text-muted-foreground\">View imaging reports and radiological studies — coming in Phase 3.</p>\n    </div>\n  \\);\n}\nEOF)",
      "Bash(\"/Users/potalora/ai_workspace/test_autonomous_ai_web_records/frontend/src/app/\\(dashboard\\)/encounters/page.tsx\" << 'EOF'\nexport default function EncountersPage\\(\\) {\n  return \\(\n    <div>\n      <h1 className=\"text-3xl font-bold tracking-tight\">Encounters</h1>\n      <p className=\"text-muted-foreground\">View visits, appointments, and clinical encounters — coming in Phase 3.</p>\n    </div>\n  \\);\n}\nEOF)",
      "Bash(\"/Users/potalora/ai_workspace/test_autonomous_ai_web_records/frontend/src/app/\\(dashboard\\)/summaries/page.tsx\" << 'EOF'\nexport default function SummariesPage\\(\\) {\n  return \\(\n    <div>\n      <h1 className=\"text-3xl font-bold tracking-tight\">AI Summaries</h1>\n      <p className=\"text-muted-foreground\">Build and manage de-identified health record summaries — coming in Phase 4.</p>\n    </div>\n  \\);\n}\nEOF)",
      "Bash(\"/Users/potalora/ai_workspace/test_autonomous_ai_web_records/frontend/src/app/\\(dashboard\\)/dedup/page.tsx\" << 'EOF'\nexport default function DedupPage\\(\\) {\n  return \\(\n    <div>\n      <h1 className=\"text-3xl font-bold tracking-tight\">Deduplication</h1>\n      <p className=\"text-muted-foreground\">Review and resolve duplicate health records — coming in Phase 5.</p>\n    </div>\n  \\);\n}\nEOF)",
      "Bash(\"/Users/potalora/ai_workspace/test_autonomous_ai_web_records/frontend/src/app/\\(dashboard\\)/settings/page.tsx\" << 'EOF'\nexport default function SettingsPage\\(\\) {\n  return \\(\n    <div>\n      <h1 className=\"text-3xl font-bold tracking-tight\">Settings</h1>\n      <p className=\"text-muted-foreground\">Manage user preferences, data, and account settings — coming in Phase 7.</p>\n    </div>\n  \\);\n}\nEOF)",
      "Bash(npm run build:*)",
      "Bash(git -C /Users/potalora/ai_workspace/test_autonomous_ai_web_records commit -m \"$\\(cat <<''EOF''\nfeat: frontend scaffolding with auth pages and dashboard shell\n\n- Next.js 15 app with TypeScript and Tailwind CSS 4\n- shadcn/ui components \\(button, card, input, dialog, table, etc.\\)\n- TanStack Query provider, Zustand auth/UI stores\n- Login and register pages with API client\n- Dashboard layout with sidebar navigation and header\n- Placeholder pages for all dashboard routes\n- TypeScript types for API, records, timeline\n- API client with auth token support\nEOF\n\\)\")",
      "Bash(git -C /Users/potalora/ai_workspace/test_autonomous_ai_web_records tag -a phase-1-foundation -m \"Phase 1 complete: auth, DB, API shell, frontend scaffold\")",
      "Bash(git -C /Users/potalora/ai_workspace/test_autonomous_ai_web_records log --oneline)"
    ],
    "deny": [
      "Bash(pip install google-genai*)",
      "Bash(pip install google-generativeai*)",
      "Bash(pip install openai*)",
      "Bash(pip install anthropic*)",
      "Bash(pip3 install google-genai*)",
      "Bash(pip3 install google-generativeai*)",
      "Bash(pip3 install openai*)",
      "Bash(pip3 install anthropic*)",
      "Bash(uv add google-genai*)",
      "Bash(uv add google-generativeai*)",
      "Bash(uv add openai*)",
      "Bash(uv add anthropic*)",
      "Bash(uv pip install google-genai*)",
      "Bash(uv pip install google-generativeai*)",
      "Bash(uv pip install openai*)",
      "Bash(uv pip install anthropic*)",
      "Bash(npm install @google/generative-ai*)",
      "Bash(npm install openai*)",
      "Bash(npm install @anthropic-ai*)",
      "Bash(pnpm add @google/generative-ai*)",
      "Bash(pnpm add openai*)",
      "Bash(pnpm add @anthropic-ai*)",
      "Bash(curl *generativelanguage.googleapis.com*)",
      "Bash(curl *api.openai.com*)",
      "Bash(curl *api.anthropic.com*)",
      "Bash(wget *generativelanguage.googleapis.com*)",
      "Bash(wget *api.openai.com*)",
      "Bash(wget *api.anthropic.com*)",
      "Bash(pip install langextract*)",
      "Bash(pip3 install langextract*)",
      "Bash(uv add langextract*)",
      "Bash(uv pip install langextract*)"
    ]
  },
  "sandbox": {
    "enabled": true,
    "autoAllowBashIfSandboxed": true
  },
  "preferences": {
    "autoApprove": true
  },
  "settings": {
    "model": "opus",
    "maxTurns": 200,
    "systemPrompt": "You are building MedTimeline, a HIPAA-compliant personal health records application. Read CLAUDE.md at the project root for the full specification before starting any work. Follow the build phases in order. Always write tests alongside features. Phase 1 supports ONLY structured data: FHIR R4 JSON bundles and Epic EHI Tables (TSV). Build and test parsers against user-provided real test files in backend/tests/fixtures/. USE GIT: Commit after every logical unit of work. Tag phase milestones. If a feature breaks, try to fix it first. If the fix is non-obvious, git revert or git reset to the last good commit and try a different approach. Use feature branches for risky changes. All services run natively via Homebrew (PostgreSQL, Redis) — no Docker. CRITICAL SECURITY RULES: (1) NEVER install any AI SDK (google-genai, google-generativeai, openai, anthropic, langextract). (2) NEVER make external HTTP calls to any AI API endpoint. (3) NEVER store or reference API keys for AI services. (4) The app builds de-identified prompts and returns them to the user — it does NOT execute them. (5) NEVER include raw PII/PHI in constructed prompts — always run through the PHI scrubber. (6) NEVER commit user-provided test fixtures to git — they may contain real PHI. The target model for prompts is gemini-3-flash-preview but the app never calls it."
  }
}
